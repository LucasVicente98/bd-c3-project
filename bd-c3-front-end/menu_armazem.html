<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Gerenciamento de Armazéns Logísticos</title>
    <link rel="stylesheet" href="./style/styles.css">
</head>

<body>

    <header>
        <h1>Sistema de Gerenciamento de Armazéns Logísticos</h1>
    </header>

    <section>
        <h2>Total de Registros Existentes</h2>
        <p>Número de Armazéns: <span id="countArmazens"></span></p>
        <p>Número de Responsáveis: <span id="countResponsaveis"></span></p>
        <p>Número de Produtos: <span id="countProdutos"></span></p>
    </section>

    <nav>
        <h2>Menu Principal</h2>
        <br>
        <a href="armazem.html">1. Armazem</a>
        <a href="responsavel.html">2. Responsavel</a>
        <a href="produto.html">3. Produto</a>
    </nav>

    <section>
        <h2>Criado por: Lucas Leite Vicente</h2>
        <p>Disciplina: Banco de Dados - 2023/02</p>
        <p>Professor: Howard Roatti</p>
    </section>

    <script>
        // Função para obter e exibir o número de armazéns
        fetch('http://localhost:4000/armazem/qtde-armazens')
            .then(response => response.json())
            .then(data => {
                console.log('Dados de armazéns:', data);
                document.getElementById('countArmazens').innerText = data && data.totalArmazens !== undefined ? data.totalArmazens : 'Erro ao obter';
            })
            .catch(error => console.error('Erro ao obter o número de armazéns:', error));

        // Função para obter e exibir o número de responsáveis
        fetch('http://localhost:4000/responsavel/qtde-responsaveis')
            .then(response => response.json())
            .then(data => {
                console.log('Dados de responsáveis:', data);
                document.getElementById('countResponsaveis').innerText = data && data.totalResponsaveis !== undefined ? data.totalResponsaveis : 'Erro ao obter';
            })
            .catch(error => console.error('Erro ao obter o número de responsáveis:', error));

        // Função para obter e exibir o número de produtos
        fetch('http://localhost:4000/produto/qtde-produtos')
            .then(response => response.json())
            .then(data => {
                console.log('Dados de produtos:', data);
                document.getElementById('countProdutos').innerText = data && data.totalProdutos !== undefined ? data.totalProdutos : 'Erro ao obter';
            })
            .catch(error => console.error('Erro ao obter o número de produtos:', error));
    </script>

</body>

</html>